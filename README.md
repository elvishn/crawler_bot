# crawler_bot
# Telegram Bot –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å–∞–π—Ç–æ–≤

–ë–æ—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–∞–π—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º—É –ø–∞—Ä—Å–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Excel-—Ñ–∞–π–ª—ã.

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ Excel-—Ñ–∞–π–ª—ã
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ SQLite-–±–∞–∑—É
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ URL

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   ```bash
   git clone https://github.com/–≤–∞—à-–ª–æ–≥–∏–Ω/crawler_bot.git
   cd crawler_bot
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   pip install -r requirements.txt
   ```

3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
   - –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
     ```ini
     BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
     ```

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:
   ```bash
   python main.py
   ```

2. –í Telegram:
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
   - –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª"
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ Excel-—Ñ–∞–π–ª —Ñ–æ—Ä–º–∞—Ç–∞:

     | title       | url                 | xpath      |
     |-------------|---------------------|------------|
     | –ü—Ä–∏–º–µ—Ä —Å–∞–π—Ç–∞| https://example.com | //div[@class="price"] |

## üîç –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –¥–∞–Ω–Ω—ã–º
- **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏**: `title`, `url`, `xpath`
- **–§–æ—Ä–º–∞—Ç URL**: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `http://` –∏–ª–∏ `https://`
- **–§–æ—Ä–º–∞—Ç XPath**: –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å `//`, `/` –∏–ª–∏ `./`

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
crawler_bot/
‚îú‚îÄ‚îÄ data/               # –ü–∞–ø–∫–∞ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ uploads/        # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ sites.db        # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ main.py             # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md           # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ
- –§–∞–π–ª—ã –≤ `data/uploads/` –∏ `data/sites.db` –Ω–µ –∫–æ–º–º–∏—Ç—è—Ç—Å—è (—Å–º. `.gitignore`)
- –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –¥–æ–ª–∂–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –≤ `.env`

## üêõ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:
```bash
python -c "
import pandas as pd
pd.DataFrame({
    'title': ['Test'], 
    'url': ['https://test.com'], 
    'xpath': ['//div']
}).to_excel('test.xlsx', index=False)
"
```

## üìå –ü—Ä–∏–º–µ—Ä—ã
### –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:
```
‚úÖ –î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã!

+----------------+---------------------+----------------------+
|     TITLE      |        XPATH        |         URL          |
+================+=====================+======================+
| –ü—Ä–∏–º–µ—Ä —Å–∞–π—Ç–∞   | //div[@class="price"] | https://example.com |
+----------------+---------------------+----------------------+

–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π: 1
–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö URL: 1
```

### –û—à–∏–±–∫–∏:
```
‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ URL:
- –°–∞–π—Ç –±–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞: example.com
```

## üì¨ –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ï–ª–µ–Ω–∞ –í–∏—à–Ω–µ–≤—Å–∫–∞—è elvishn475@gmail.com
